
Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-credential-initializer-nw2ln[0m
{"level":"warn","ts":1568829265.2886732,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1568829265.2889955,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-working-dir-initializer-rh9k2[0m
{"level":"warn","ts":1568829265.594465,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1568829265.5955815,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-place-tools[0m

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-git-source-meta-unpacket-golang-pr-2-serve-fmmkg[0m
{"level":"warn","ts":1568829270.64284,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1568829270.8297381,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/********/golang.git @ acaeadcfe77152993f92ac9db90464bc70758ae5 in path /workspace/source"}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:acaeadcfe77152993f92ac9db90464bc70758ae5,2:22711f262ff741ef51683940e4f6157333b36041
DEBUG: ran git fetch --unshallow origin 22711f262ff741ef51683940e4f6157333b36041: acaeadcfe77152993f92ac9db90464bc70758ae5: in 
DEBUG: ran git checkout master in 
DEBUG: ran git reset --hard acaeadcfe77152993f92ac9db90464bc70758ae5 in 
DEBUG: ran clean --force -d . in 
DEBUG: ran git merge 22711f262ff741ef51683940e4f6157333b36041 in 
Merged SHA 9b28855f31fef5455540cd424d4e1d3529ff1d98 with commit message 'Merge commit '22711f262ff741ef51683940e4f6157333b36041'' into base branch master
Merged SHA 22711f262ff741ef51683940e4f6157333b36041 with commit message 'added custom tekton step' into base branch master

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-merge-pull-refs[0m
DEBUG: ran git fetch origin 22711f262ff741ef51683940e4f6157333b36041: acaeadcfe77152993f92ac9db90464bc70758ae5: in 
DEBUG: Unshallowed git repo in 
DEBUG: ran git checkout master in 
DEBUG: ran git reset --hard acaeadcfe77152993f92ac9db90464bc70758ae5 in 
DEBUG: ran clean --force -d . in 
DEBUG: ran git merge 22711f262ff741ef51683940e4f6157333b36041 in 
Merged SHA f775b2a0ca54a10419ed6ee1e329b36f0430a6ef with commit message 'Merge commit '22711f262ff741ef51683940e4f6157333b36041'' into base branch master
Merged SHA 22711f262ff741ef51683940e4f6157333b36041 with commit message 'added custom tekton step' into base branch master

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-create-effective-pipeline[0m
Deleting and cloning the Jenkins X versions repo
Cloning the Jenkins X versions repo https://github.com/jenkins-x/jenkins-x-versions.git with ref refs/heads/master to /builder/home/.**/jenkins-x-versions
Effective pipeline written to jenkins-x-serverless-jenkins-effective.yml

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mmeta-pipeline[0m and container [32mstep-create-tekton-crds[0m
WARNING: failed to find secret kaniko-secret in namespace **: secrets "kaniko-secret" not found
PipelineActivity for ********-golang-PR-2-1
Applying changes 
upserted PipelineResource ********-golang-pr-2-serverless for the git repository https://github.com/********/golang.git
upserted Task ********-golang-pr-2-serverless-from-build-pack-1
upserted Pipeline ********-golang-pr-2-serverless-1
created PipelineRun ********-golang-pr-2-serverless-1
created PipelineStructure ********-golang-pr-2-serverless-1

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-wmkqd[0m
{"level":"warn","ts":1568829279.9282115,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1568829279.928539,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-kf8qh[0m
{"level":"warn","ts":1568829281.176877,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1568829281.178365,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source /workspace/source/charts/preview\""}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-unpacket-golang-pr-2-serverless-l4tct[0m
{"level":"warn","ts":1568829287.2265267,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1568829287.4278395,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/********/golang.git @ master in path /workspace/source"}

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:acaeadcfe77152993f92ac9db90464bc70758ae5,2:22711f262ff741ef51683940e4f6157333b36041
DEBUG: ran git fetch --unshallow origin 22711f262ff741ef51683940e4f6157333b36041: acaeadcfe77152993f92ac9db90464bc70758ae5: in 
DEBUG: ran git checkout master in 
DEBUG: ran git reset --hard acaeadcfe77152993f92ac9db90464bc70758ae5 in 
DEBUG: ran clean --force -d . in 
DEBUG: ran git merge 22711f262ff741ef51683940e4f6157333b36041 in 
Merged SHA 8df475ffad6db737aaba0d3d27ca7f03270cf64f with commit message 'Merge commit '22711f262ff741ef51683940e4f6157333b36041'' into base branch master
Merged SHA 22711f262ff741ef51683940e4f6157333b36041 with commit message 'added custom tekton step' into base branch master

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-make-linux[0m
CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO15VENDOREXPERIMENT=1 go build -ldflags '' -o bin/golang main.go

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] No base image, nothing to extract            
[36mINFO[0m[0000] cmd: EXPOSE                                  
[36mINFO[0m[0000] Adding exposed port: 8080/tcp                
[36mINFO[0m[0000] Using files from context: [/workspace/source/bin] 
[36mINFO[0m[0000] Skipping unpacking as no commands require it. 
[36mINFO[0m[0000] Taking snapshot of full filesystem...        
[36mINFO[0m[0000] EXPOSE 8080                                  
[36mINFO[0m[0000] cmd: EXPOSE                                  
[36mINFO[0m[0000] Adding exposed port: 8080/tcp                
[36mINFO[0m[0000] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0000] ENTRYPOINT ["/golang"]                       
[36mINFO[0m[0000] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0000] Using files from context: [/workspace/source/bin] 
[36mINFO[0m[0000] COPY ./bin/ /                                
[36mINFO[0m[0000] Taking snapshot of files...                  
2019/09/18 17:54:57 pushed blob: sha256:68316dbf06711c368606cab9c69564cff69af04c23170011e7c373c3b4cfbebd
2019/09/18 17:54:57 pushed blob: sha256:4d3467fc6ad8ccfdc6aff9ae9b4a1f5c6bb3986bf4f804295cea2a69a7ce9e66
2019/09/18 17:54:57 411493707527.dkr.ecr.us-west-2.amazonaws.com/********/golang:0.0.0-SNAPSHOT-PR-2-1: digest: sha256:d910085261a9840c59b9fb9ed7f0e42807f972f4aba7666410929b1cc3c41426 size: 428

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-step4[0m
======================= CuSTOM Postbuild pre  ======================

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-step6[0m
======================= CUSTOM Postbuild post ======================

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-1/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-2-1/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: 411493707527.dkr.ecr.us-west-2.amazonaws.com\/********\/golang|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-2-1/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-2-1" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32munpacket-golang-pr-2-serverless-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Commit author email is empty for: 22711f262ff741ef51683940e4f6157333b36041
Looking for commits in: /workspace/source/
Found commit author match for: ******** with email address: ********@gmail.com
Created environment ********-golang-pr-2
Namespace **-********-golang-pr-2 created 
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: coliseumusa.com
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: 411493707527.dkr.ecr.us-west-2.amazonaws.com/********/golang
    tag: 0.0.0-SNAPSHOT-PR-2-1
Deleting and cloning the Jenkins X versions repo
Cloning the Jenkins X versions repo https://github.com/jenkins-x/jenkins-x-versions.git with ref refs/heads/master to /builder/home/.**/jenkins-x-versions


Updating PipelineActivities ********-golang-pr-2-1 which has status Running
Preview application is now available at: http://golang.**-********-golang-pr-2.coliseumusa.com
